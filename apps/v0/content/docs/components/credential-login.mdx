---
title: CredentialLoginForm
description: Complete API reference for the CredentialLoginForm component
icon: KeyRound
---

import { Tab, Tabs } from 'fumadocs-ui/components/tabs';
import { Callout } from 'fumadocs-ui/components/callout';
import { TypeTable } from 'fumadocs-ui/components/type-table';

# CredentialLoginForm

A fully-featured credential-based login form component that integrates with better-auth's email, username, and phone authentication methods.

## Import

<Tabs items={['npm Package', 'shadcn CLI']}>
  <Tab value="npm Package">
    ```tsx
    import { CredentialLoginForm } from '@imbios/ui'
    ```
  </Tab>
  <Tab value="shadcn CLI">
    ```tsx
    import { CredentialLoginForm } from '@/components/auth/credential-login-form'
    ```
  </Tab>
</Tabs>

## Basic Usage

```tsx
import { CredentialLoginForm } from '@imbios/ui'
import { authClient } from '@/lib/auth-client'

export function SignInPage() {
  return (
    <CredentialLoginForm
      authMethod="email"
      authClient={authClient}
    />
  )
}
```

## Props

### Required Props

| Prop | Type | Description |
|------|------|-------------|
| `authMethod` | `'email' \| 'username' \| 'phone'` | Primary authentication method |
| `authClient` | `AuthClient` | better-auth client instance |

### Optional Feature Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `showRememberMe` | `boolean` | `false` | Show "Remember me" checkbox |
| `showForgotPassword` | `boolean` | `false` | Show "Forgot password?" link |
| `forgotPasswordUrl` | `string` | `'/auth/forgot-password'` | Forgot password page URL |

### Validation Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `enableClientValidation` | `boolean` | `true` | Enable client-side validation |
| `passwordValidation` | `PasswordValidation` | See below | Password validation rules |

#### PasswordValidation

```typescript
interface PasswordValidation {
  minLength?: number      // default: 8, min: 4, max: 128
  maxLength?: number      // default: 256, min: 8, max: 256
  requireUppercase?: boolean  // default: false
  requireLowercase?: boolean  // default: false
  requireNumbers?: boolean    // default: false
  requireSymbols?: boolean    // default: false
}
```

### Callback Props

| Prop | Type | Description |
|------|------|-------------|
| `onSuccess` | `() => void \| Promise<void>` | Called on successful authentication |
| `onError` | `(error: AuthError) => void` | Called on authentication failure |
| `redirectTo` | `string` | URL to redirect after success |

### Styling Props

| Prop | Type | Description |
|------|------|-------------|
| `className` | `string` | CSS class for root container |
| `classNames` | `CredentialLoginClassNames` | CSS classes for sub-elements |

#### CredentialLoginClassNames

```typescript
interface CredentialLoginClassNames {
  form?: string      // Form container
  input?: string     // Input fields
  label?: string     // Labels
  button?: string    // Submit button
  error?: string     // Error messages
  card?: string      // Card container
  checkbox?: string  // Checkbox (remember me)
  link?: string      // Links (forgot password)
}
```

### Advanced Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `loadingComponent` | `React.ComponentType` | Built-in spinner | Custom loading indicator |
| `disabled` | `boolean` | `false` | Disable form externally |
| `errorRenderer` | `(error: AuthError) => ReactNode` | Built-in display | Custom error renderer |

## Examples

### Email Authentication

```tsx
<CredentialLoginForm
  authMethod="email"
  authClient={authClient}
  showRememberMe
  showForgotPassword
  onSuccess={() => router.push('/dashboard')}
/>
```

### Username Authentication

```tsx
<CredentialLoginForm
  authMethod="username"
  authClient={authClient}
  onSuccess={() => router.push('/dashboard')}
  onError={(error) => {
    if (error.code === 'USER_NOT_FOUND') {
      toast.error('Account not found. Please sign up.')
    }
  }}
/>
```

### Phone Authentication

```tsx
<CredentialLoginForm
  authMethod="phone"
  authClient={authClient}
  passwordValidation={{
    minLength: 6,
    requireNumbers: true,
  }}
  onSuccess={() => router.push('/dashboard')}
/>
```

### With Strong Password Validation

```tsx
<CredentialLoginForm
  authMethod="email"
  authClient={authClient}
  passwordValidation={{
    minLength: 12,
    requireUppercase: true,
    requireLowercase: true,
    requireNumbers: true,
    requireSymbols: true,
  }}
  onSuccess={() => router.push('/dashboard')}
/>
```

### Custom Styling

```tsx
<CredentialLoginForm
  authMethod="email"
  authClient={authClient}
  className="bg-slate-900 p-8 rounded-xl"
  classNames={{
    form: 'space-y-6',
    input: 'bg-slate-800 border-slate-700 text-white',
    label: 'text-slate-300',
    button: 'bg-indigo-600 hover:bg-indigo-700',
    error: 'text-red-400',
    link: 'text-indigo-400 hover:text-indigo-300',
  }}
  onSuccess={() => router.push('/dashboard')}
/>
```

### Custom Error Handling

```tsx
<CredentialLoginForm
  authMethod="email"
  authClient={authClient}
  onError={(error) => {
    switch (error.code) {
      case 'INVALID_CREDENTIALS':
        toast.error('Invalid email or password')
        break
      case 'RATE_LIMIT_EXCEEDED':
        toast.error('Too many attempts. Please wait 5 minutes.')
        break
      case 'TWO_FACTOR_REQUIRED':
        router.push('/auth/two-factor')
        break
      default:
        toast.error('An error occurred. Please try again.')
    }

    // Log to error tracking
    Sentry.captureException(error)
  }}
  onSuccess={() => {
    analytics.track('User Signed In')
    router.push('/dashboard')
  }}
/>
```

## Error Codes

The `onError` callback receives an `AuthError` object with these possible codes:

| Code | HTTP Status | Description | User Action |
|------|-------------|-------------|-------------|
| `INVALID_CREDENTIALS` | 401 | Wrong email/password | Re-enter credentials |
| `USER_NOT_FOUND` | 404 | No account exists | Sign up or check spelling |
| `ACCOUNT_LOCKED` | 423 | Account temporarily locked | Wait or contact support |
| `RATE_LIMIT_EXCEEDED` | 429 | Too many login attempts | Wait before retrying |
| `SERVER_ERROR` | 500 | Internal server error | Try again later |
| `NETWORK_ERROR` | - | Network connectivity issue | Check connection |
| `VALIDATION_ERROR` | 400 | Input validation failed | Fix form errors |
| `TWO_FACTOR_REQUIRED` | 200 | 2FA verification needed | Go to 2FA page |

## Accessibility

The component is WCAG 2.1 AA compliant:

- ✅ Proper form labels and ARIA attributes
- ✅ Keyboard navigation support (Tab, Enter, Escape)
- ✅ Focus management and visible focus indicators
- ✅ Screen reader announcements for errors
- ✅ Sufficient color contrast ratios
- ✅ No CAPTCHA (bot protection handled server-side)

## Internationalization

The component uses i18next for translations. Override strings by providing your own translations:

```typescript
import i18n from 'i18next'

i18n.addResourceBundle('en', 'translation', {
  auth: {
    email: 'Email Address',
    password: 'Password',
    signIn: 'Sign In',
    rememberMe: 'Keep me signed in',
    forgotPassword: 'Forgot your password?',
    errors: {
      invalidEmail: 'Please enter a valid email',
      invalidCredentials: 'Invalid email or password',
    }
  }
})
```

## TypeScript

Full TypeScript support with exported types:

```typescript
import type {
  CredentialLoginFormProps,
  AuthError,
  AuthErrorCode,
  PasswordValidation,
  CredentialLoginClassNames,
} from '@imbios/ui'
```

## Related

- [Authentication Configuration](/docs/configuration/authentication)
- [Password Validation](/docs/configuration/validation)
- [Troubleshooting](/docs/troubleshooting)

